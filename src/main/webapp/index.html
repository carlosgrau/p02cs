<!DOCTYPE html>
<html>
    <head>
<<<<<<< HEAD
        <title>Calculadora</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    </head>
    <body>
        </br>
        <div class="container-fluid"> 
            <form>

                <div class="form-group">
                    </br>
                    <label>Operador 1</label> 
                    <input class="form-control" placeholder="Introduzca un número" id="num1">
                    <div class="container-fluid" id="errornum1"></div>
                </div>
                <div>
                    <label class="radio"><input type="radio" name="optradio" id="sumar" checked > Sumar </label><br/>
                    <label class="radio"><input type="radio" name="optradio" id="restar"> Restar </label><br/>
                    <label class="radio"><input type="radio" name="optradio" id="multiplicar"> Multiplicar </label> <br/>
                    <label class="radio"><input type="radio" name="optradio" id="dividir"> Dividir </label> 
                </div>


                <div class="form-group">
                    </br>
                    <label>Operador 2</label> 
                    <input class="form-control" placeholder="Introduzca un número" id="num2">
                    <div class="container-fluid" id="errornum2"></div>
                </div>
                <div class="btn-group">

                    <button type="button" class="btn btn-primary" id="btncalcular" disabled="true">Hacer Operación</button>
                    <button type="reset" class="btn btn-warning" id="btnlimpiar">Limpiar</button>
                </div>
            </form> 
        </div>
        <div class="container-fluid" id="solucion"></div>
        <div class="container-fluid" id="error"></div>
    </body>
    <script>
        $(document).ready(function () {
            $("#btnlimpiar").click(function () {
                $("#solucion").empty();
                $("#error").empty();
            });
            function numeroBueno(str) {
                return /^(\d[0-9]*)$/.test(str);
            }
            $("#num1").keyup(function () {
                if (numeroBueno($("#num1").val())) {
                    $("#num1").css("border-color", "green");
                    $("#errornum1").empty();
                    document.getElementById("errornum1").style.visibility = "hidden";
                    $("#btncalcular").attr("disabled", false);
                } else {
                    document.getElementById("errornum1").style.visibility = "visible";
                    $("#errornum1").attr("class", "alert alert-danger");
                    $("#num1").css("border-color", "red");
                    $("#errornum1").empty().append("Introduzca solo números");
                    $("#btncalcular").attr("disabled",true);
                }
            });
            $("#num2").keyup(function () {
                if (numeroBueno($("#num2").val())) {
                    $("#num2").css("border-color", "green");
                    $("#errornum2").empty();
                    document.getElementById("errornum2").style.visibility = "hidden";
                    $("#btncalcular").attr("disabled", false);
                } else {
                    document.getElementById("errornum2").style.visibility = "visible";
                    $("#errornum2").attr("class", "alert alert-danger");
                    $("#num2").css("border-color", "red");
                    $("#errornum2").empty().append("Introduzca solo números");
                    $("#btncalcular").attr("disabled", true);
                }
            });
            var sopcion;
            $("#btncalcular").click(function () {
                var opcion;
                var num1 = $("#num1").val();
                var num2 = $("#num2").val();
                function opcionOperando() {
                    if (document.getElementById('sumar').checked) {
                        opcion = 1;
                        sopcion = "+";
                    } else if (document.getElementById('restar').checked) {
                        opcion = 2;
                        sopcion = "-";
                    } else if (document.getElementById('multiplicar').checked) {
                        opcion = 3;
                        sopcion = "*";
                    } else if (document.getElementById('dividir').checked) {
                        opcion = 4;
                        sopcion = "/";
                    }
                    return opcion;
                } ;

                
                var operador = opcionOperando();
                 
                    var url = "/p02cs/calculadora?num1=" + num1 + "&num2=" + num2 + "&operador=" + operador;
                    $.ajax({
                        dataType: "json",
                        url: url,
                        cache: false,
                        menthod: "GET",
                        success: function (data) {
                            $("#solucion").empty().append(num1 + " " + sopcion +" "+ num2 + "</br> RESULTADO =<strong>" + data + "</strong>");
                        }
                    });
                
                
            });

=======
        <title>Tabla Multiplicar</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    </head>
    <body>
        </br>
        <div class="container-fluid"> 
            <form>
                <div class="form-group">
                    <label>Ancho</label>
                    <input class="form-control" placeholder="Introduzca un número" id="ancho" name="ancho" maxlength="3">
                    <div class="container-fluid" id="errorancho"> </div>
                </div> 
                <div class="form-group">
                    <label>Alto</label> 
                    <input class="form-control" placeholder="Introduzca un número" id="alto" name="alto" maxlength="3">
                    <div class="container-fluid" id="erroralto"></div>
                </div>
                <div>
                    <div class =" container">
                        <button type="button" class="btn btn-primary" id="boton">Crear tabla</button>
                    </div> 
            </form> 
            </br>
            <div class="container-fluid" id="tabla">
            </div>
            <div class="container-fluid" id="error">
            </div>

    </body>

    <script>
        $(document).ready(function () {
            function numeroBueno(str) {
                return /^([1-9][0-9]*)$/.test(str);
            }
            $("#ancho").keyup(function () {
                if ((numeroBueno($("#ancho").val())) && ($("#ancho").val() <= 100)) {
                    $("#ancho").css("border-color", "green");

                    if ((numeroBueno($("#alto").val())) && ($("#alto").val() <= 100)) {
                        $("#boton").attr("disable", true);
                    }
                    ;
                } else {
                    $("#errorancho").attr("class", "alert alert-danger");
                    $("#ancho").css("border-color", "red");
                    $("#errorancho").empty().append("Introduzca números entre 1 y 101")
                    $("#boton").attr("disable", true);
                }
            });
            $("#alto").keyup(function () {
                if ((numeroBueno($("#alto").val())) && ($("#alto").val() <= 100)) {
                    $("#alto").css("border-color", "green");

                    if ((numeroBueno($("#ancho").val())) && ($("#ancho").val() <= 100)) {
                        $("#boton").attr("disable", true);
                    }
                    ;
                } else {
                    $("#erroralto").attr("class", "alert alert-danger");
                    $("#erroralto").empty().append("Introduzca números entre 1 y 101")
                    $("#alto").css("border-color", "red");

                    $("#boton").attr("disable", true);
                }
            });
            $("#boton").click(function () {
                var codigoError = '';
                var error = '';
                var ancho = $("#ancho").val();
                var alto = $("#alto").val();
                if ((!ancho.toString().trim().match("/d[0-9]*")) || (!alto.toString().trim().match("/d[0-9]*"))) {
                    var url = "table?ancho=" + ancho + "&alto=" + alto;
                    $.ajax({
                        dataType: "json",
                        url: url,
                        cache: false,
                        menthod: "GET",
                        success: function (data) {
                            var tabla = "<table class='table table-dark'>";
                            for (i = 0; i < data.length; i++) {
                                tabla += "<tr>";
                                for (j = 0; j < data[i].array.length; j++) {
                                    tabla += "<td>" + data[i].array[j].res + "</td>";
                                }
                                tabla += "</tr>";
                            }
                            tabla += "</table>";
                            $("#tabla").empty().append(tabla);
                            $("#error").empty();
                        },
                        error: function (data) {
                            if (ancho.trim() <= 0 || alto.toString().trim() <= 0) {
                                codigoError += "No puedo contruir la tabla sin algun número es 0.";
                            } else if (ancho.trim().match("^[a-zA-Z ]*$")) {
                                codigoError += "</br>El valor ANCHO introducido debe ser un número.";
                            }
                            ;
                            if (alto.trim().match("^[a-zA-Z ]*$")) {
                                codigoError += "</br>El valor ALTO introducido debe ser un numero.";
                            }
                            ;
                            error += "<div class=\"alert alert-danger\">";
                            error += "<strong>Error! " + codigoError + " </strong>";
                            error += "</div>";
                            $("#error").empty().append(error);
                            $("#tabla").empty();
                        }

                    });
                }
            });
>>>>>>> origin/master
        });
    </script>
</html>
